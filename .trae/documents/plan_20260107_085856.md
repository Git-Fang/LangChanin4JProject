# Docker部署改造计划

## 1. 配置文件修改

### 1.1 修改application.yml
- 将mongodb连接地址中的`localhost`替换为`172.21.192.1`
- 将ollama连接地址中的`localhost`替换为`172.21.192.1`
- 确保所有apiKey已经使用环境变量（当前配置已经使用，如`${DeepSeek_API_KEY}`）

### 1.2 修改HTML文件
- 修改`unified.html`中所有`localhost`为`172.21.192.1`
- 修改`index.html`中所有`localhost`为`172.21.192.1`
- 修改`mcp-test.html`中`localhost`为`172.21.192.1`

### 1.3 修改Java代码
- 修改`McpTestClientController.java`中`localhost`为`172.21.192.1`

## 2. Docker配置文件创建

### 2.1 创建Dockerfile
- 使用Java 17作为基础镜像
- 构建Spring Boot应用
- 暴露端口8000

### 2.2 创建docker-compose.yml
- 定义服务
- 配置环境变量
- 配置端口映射
- 配置依赖关系（如果有的话）

## 3. 文档创建

### 3.1 创建README.md
- 说明项目结构
- 说明部署步骤
- 说明环境变量配置

## 4. 构建和验证

### 4.1 构建Docker镜像
- 使用`docker-compose build`构建镜像

### 4.2 启动服务
- 使用`docker-compose up -d`启动服务

### 4.3 验证服务
- 检查服务是否正常运行
- 测试API是否可访问

## 5. 注意事项

- 确保环境变量正确配置
- 确保端口映射正确
- 确保所有依赖服务正常运行